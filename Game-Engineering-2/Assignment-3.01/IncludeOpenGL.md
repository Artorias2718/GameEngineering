# Include OpenGL

- OpenGL is an open standard that fulfills the same role as Direct3D but for any platform that supports it (Direct3D is only available on proprietary Microsoft platforms). Because of its open and inclusive nature it is more complicated than Direct3D to figure out which features of OpenGL are supported on a given piece of hardware. In our class we will target functionality similar to DirectX 11. This will require us to use what OpenGL calls "extensions": Microsoft only provides a very basic (and very old) version of OpenGL that is built into Windows, and any modern features are implemented by the graphics hardware drivers as functions that can be queried to see if they're available and loaded dynamically if they are.

## Header Files

- The basic OpenGL function prototypes are declared in <gl/GL.h>. Unlike the Direct3D header this is part of the Windows API and you don't have to do anything special to get Visual Studio to find it. On the other hand, this function relies on Windows-specific #defines and so you must make sure that <windows.h> is #included first.
- The header files for the OpenGL extension function prototypes, however, are not part of Windows. They are "glext.h" (that everything uses) and "wglext" (that has Windows-specific extensions), and I got them from hereLinks to an external site.. I have put these files in a new "External" section of the solution. When you get code from an external source it is good practice to keep it separate from the code that you write, and in our class we will do this by placing external code in a separate location both on disk and in our solution. In the case of these two files I have created a static library to handle OpenGL extensions, and within that I have explicitly separated the code that I downloaded into a folders named "32686" and "33061" (which are the external revision numbers) so that if we ever want to get a new updated version we can easily replace the external source. In Solution Explorer I have likewise put the two files in a separate "Source" solution folder to visually make the distinction between external code and my own code clear.
- The other code in the OpenGlExtensions static library was written by me to deal with loading the extension functions. The function pointers themselves are defined, and I also have a Load() function that finds the addresses for them all. It is worth glancing at this code, but you shouldn't spend much time trying to understand it unless you're genuinely curious; the only reason you will ever need to modify this code is if we have to use more extensions in the class than I have anticipated.
- Because Windows only implements such an old version of OpenGL with such an old Windows way of doing things the way that we have to initialize OpenGL is quite convoluted. OpenGL needs to be initialized before the extensions can be, but it can only be initialized by associating it with a specific window, and this can only be done one time to each window. Unfortunately, a window can't be set up in the modern way without the extensions being available! What we have to do, then, is to create a hidden window that is never shown to the user, initialize the old built-in OpenGL with that hidden window, load the extensions, and then we can set up the real main window for our game (and then destroy the hidden window).
- I have set this all up for you to try and minimize the amount you have to worry about, but it requires several different pieces working together and is not simple to understand. Again, I would recommend not worrying about how it works unless you really want to.
- The one thing that I would like you to understand and remember about OpenGL header files is how we will consistently #include the necessary information in our class. In the example you will see the following file:
  - Code\Engine\Graphics\OpenGL\Includes.h
- When you have your own Graphics project it will be part of that, but for now it's just a loose header file. Open the file and look at it. In our class, any time a source file needs to #include the OpenGL headers it should #include this file rather than trying to #include anything separately.

## Libraries

- Similar to the [Include Direct3D](./IncludeDirect3D.md) example you will have to tell the linker how to find the OpenGL library, but since it is built into Windows you won't need to specify the location. The library you will need for any OpenGL functionality is Opengl32.lib (confusingly, this is the library name regardless of whether your program is 32-bit or 64-bit). For some functionality (including getting human-readable error messages) you may also need glu32.lib (which is also the name for both the 32-bit and the 64-bit versions).
- In order to use the extension static library don't forget to also add it as a dependency and set up your project dependencies accordingly.

## The Example Program Doesn't Work

- If you try to run the program you will notice that it's not able to load the extension functions. A so-called "rendering context" needs to first be made for this to work, and that requires enough extra code that I thought it would distract from the example of how to deal with extensions and didn't include it. Example code to properly set up a context can be found in Assignment 01.